{"version":3,"sources":["views/HomePage/HomePage.jsx","api/apiService.js","components/MovieList/MovieList.module.css","components/MovieList/MovieList.jsx","views/HomePage/HomePage.module.css"],"names":["HomePage","state","movies","loading","a","this","setState","getTrendMovies","className","styles","HomePage_title","MovieList","Loader","Component","axios","defaults","baseURL","headers","common","IMAGE_PATH","getImagePath","path","template","process","get","data","results","searchMovies","query","searchMovieById","movieId","searchMovieCreditsById","crew","searchMovieReviewsById","module","exports","props","location","map","id","title","poster_path","MovieList__item","MovieList__image","src","alt","MovieList__title","to","pathname","routes","from","defaultProps","withRouter"],"mappings":"0SAoCeA,E,4MA1BbC,MAAQ,CAAEC,OAAQ,GAAIC,SAAS,G,8FAE/B,sBAAAC,EAAA,sEAEIC,KAAKC,SAAS,CAAEH,SAAS,IAF7B,KAGIE,KAHJ,SAGkCE,cAHlC,yBAGoBL,OAHpB,WAGSI,SAHT,sGAOID,KAAKC,SAAS,CAAEH,SAAS,IAP7B,6E,0EAWA,WACE,MAA4BE,KAAKJ,MAAzBC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,QAEhB,OACE,qCACE,oBAAIK,UAAWC,IAAOC,eAAtB,4BACA,cAACC,EAAA,EAAD,CAAWT,OAAQA,IAClBC,GAAW,cAACS,EAAA,EAAD,W,GArBGC,c,0RCHvBC,IAAMC,SAASC,QAAf,qCAFoB,KAGpBF,IAAMC,SAASE,QAAQC,OAAvB,+BAJE,uNAKFJ,IAAMC,SAASE,QAAQC,OACrB,gBADF,iCAIO,IAAMC,EAAa,kCAEnB,SAASC,EAAaC,GAAgC,IAA1BC,EAAyB,uDAAd,aAC5C,OAAOD,EAAI,UACJF,GADI,OACSE,GAChBE,GAAA,WAA6BD,GAG5B,SAAef,IAAtB,+B,4CAAO,8BAAAH,EAAA,+EAIOU,IAAMU,IAAI,uBAJjB,uBAGgBC,EAHhB,EAGDA,KAAQC,QAHP,kBAKID,GALJ,qG,sBAWA,SAAeE,EAAtB,kC,4CAAO,WAA4BC,GAA5B,iBAAAxB,EAAA,+EAIOU,IAAMU,IAAN,8BAAiCI,IAJxC,uBAGgBH,EAHhB,EAGDA,KAAQC,QAHP,kBAKID,GAAQ,IALZ,qG,sBAWA,SAAeI,EAAtB,kC,4CAAO,WAA+BC,GAA/B,iBAAA1B,EAAA,+EAEoBU,IAAMU,IAAN,iBAAoBM,IAFxC,uBAEKL,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,sBASA,SAAeM,EAAtB,kC,4CAAO,WAAsCD,GAAtC,iBAAA1B,EAAA,+EAIOU,IAAMU,IAAN,iBAAoBM,EAApB,aAJP,uBAGaL,EAHb,EAGDA,KAAQO,KAHP,kBAKIP,GAAQ,IALZ,qG,sBAWA,SAAeQ,EAAtB,kC,4CAAO,WAAsCH,GAAtC,iBAAA1B,EAAA,+EAIOU,IAAMU,IAAN,iBAAoBM,EAApB,aAJP,uBAGgBL,EAHhB,EAGDA,KAAQC,QAHP,kBAKID,GAAQ,IALZ,qG,2CC7DPS,EAAOC,QAAU,CAAC,UAAY,6BAA6B,gBAAkB,mCAAmC,iBAAmB,oCAAoC,iBAAmB,sC,iKCUpLxB,E,4JAYJ,WACE,MAA6BN,KAAK+B,MAA1BlC,EAAR,EAAQA,OAAQmC,EAAhB,EAAgBA,SAChB,OACE,oBAAI7B,UAAWC,IAAOE,UAAtB,SACGT,EAAOoC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OACV,qBAAajC,UAAWC,IAAOiC,gBAA/B,UACE,qBACElC,UAAWC,IAAOkC,iBAClBC,IAAKxB,YAAaqB,EAtBR,cAuBVI,IAAKL,IAEP,cAAC,IAAD,CACEhC,UAAWC,IAAOqC,iBAClBC,GAAI,CACFC,SAAS,GAAD,OAAKC,IAAO/C,OAAZ,YAAsBqC,GAC9BtC,MAAO,CAAEiD,KAAMb,IAJnB,SAOGG,MAbID,Y,GAjBK1B,aAAlBF,EACGwC,aAAe,CAAEjD,OAAQ,IAsCnBkD,kBAAWzC,I,mBCjD1BuB,EAAOC,QAAU,CAAC,SAAW,2BAA2B,eAAiB","file":"static/js/6.eebedb4b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport styles from \"./HomePage.module.css\";\n\nimport { getTrendMovies } from \"./../../api/apiService\";\n\nimport MovieList from \"./../../components/MovieList\";\nimport Loader from \"./../../components/Loader\";\n\nclass HomePage extends Component {\n  state = { movies: [], loading: false };\n\n  async componentDidMount() {\n    try {\n      this.setState({ loading: true });\n      this.setState({ movies: await getTrendMovies() });\n    } catch (error) {\n      throw error;\n    } finally {\n      this.setState({ loading: false });\n    }\n  }\n\n  render() {\n    const { movies, loading } = this.state;\n\n    return (\n      <>\n        <h1 className={styles.HomePage_title}>Trending today</h1>\n        <MovieList movies={movies} />\n        {loading && <Loader />}\n      </>\n    );\n  }\n}\n\nexport default HomePage;\n","import axios from \"axios\";\n\nconst API_KEY_V4 =\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1N2Q2Mzk0MGU4NjBjZTIwMzA5NjliNDIwMzJhZTk5MiIsInN1YiI6IjYwZDdjMWMyNmMwYjM2MDA3NTAwOWMxMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.vupSqVtA0PRApUJYkZTkji8byDLATuFyfOJZ6ROdgjI\";\nconst API_VERSION = \"3\";\n\naxios.defaults.baseURL = `https://api.themoviedb.org/${API_VERSION}`;\naxios.defaults.headers.common[\"Authorization\"] = `Bearer ${API_KEY_V4}`;\naxios.defaults.headers.common[\n  \"Content-Type\"\n] = `application/json;charset=utf-8`;\n\nexport const IMAGE_PATH = \"https://image.tmdb.org/t/p/w500\";\n\nexport function getImagePath(path, template = \"avatar.jpg\") {\n  return path\n    ? `${IMAGE_PATH}${path}`\n    : process.env.PUBLIC_URL + `/${template}`;\n}\n\nexport async function getTrendMovies() {\n  try {\n    const {\n      data: { results: data },\n    } = await axios.get(\"/trending/movie/day\");\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function searchMovies(query) {\n  try {\n    const {\n      data: { results: data },\n    } = await axios.get(`/search/movie?query=${query}`);\n    return data || [];\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function searchMovieById(movieId) {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function searchMovieCreditsById(movieId) {\n  try {\n    const {\n      data: { crew: data },\n    } = await axios.get(`/movie/${movieId}/credits`);\n    return data || [];\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function searchMovieReviewsById(movieId) {\n  try {\n    const {\n      data: { results: data },\n    } = await axios.get(`/movie/${movieId}/reviews`);\n    return data || [];\n  } catch (error) {\n    throw error;\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieList\":\"MovieList_MovieList__AjE_a\",\"MovieList__item\":\"MovieList_MovieList__item__1grg5\",\"MovieList__image\":\"MovieList_MovieList__image__o9mxU\",\"MovieList__title\":\"MovieList_MovieList__title__3Rhjg\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport styles from \"./MovieList.module.css\";\n\nimport { getImagePath } from \"./../../api/apiService\";\n\nimport routes from \"../../routes\";\nconst AVATAR_FALLBACK = \"poster.jpg\";\n\nclass MovieList extends Component {\n  static defaultProps = { movies: [] };\n\n  static propTypes = {\n    movies: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n          .isRequired,\n        title: PropTypes.string.isRequired,\n      })\n    ),\n  };\n  render() {\n    const { movies, location } = this.props;\n    return (\n      <ul className={styles.MovieList}>\n        {movies.map(({ id, title, poster_path }) => (\n          <li key={id} className={styles.MovieList__item}>\n            <img\n              className={styles.MovieList__image}\n              src={getImagePath(poster_path, AVATAR_FALLBACK)}\n              alt={title}\n            />\n            <Link\n              className={styles.MovieList__title}\n              to={{\n                pathname: `${routes.movies}/${id}`,\n                state: { from: location },\n              }}\n            >\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default withRouter(MovieList);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HomePage\":\"HomePage_HomePage__12ZPY\",\"HomePage_title\":\"HomePage_HomePage_title__2HdY2\"};"],"sourceRoot":""}